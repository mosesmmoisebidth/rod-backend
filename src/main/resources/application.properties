# -------------------------------------------------
# Application Profile
# -------------------------------------------------
spring.profiles.active=${SPRING_PROFILES_ACTIVE:prod}

spring.application.name=backend

# -------------------------------------------------
# PostgreSQL Database Configuration (env-driven only)
# Prefer DATABASE_URL or JDBC_DATABASE_URL env vars. No local defaults.
# -------------------------------------------------
spring.datasource.driver-class-name=org.postgresql.Driver
# Intentionally no default values to avoid using local DB
spring.datasource.url=${SPRING_DATASOURCE_URL:${JDBC_DATABASE_URL:}}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${JDBC_DATABASE_USERNAME:}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${JDBC_DATABASE_PASSWORD:}}

# -------------------------------------------------
# JPA / Hibernate Settings
# -------------------------------------------------
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# -------------------------------------------------
# Custom App Settings
# -------------------------------------------------
api.prefix=/api/v1
common=common_value
# Backend base URL (used for building public file URLs, emails, etc.)
# Must be provided via BACKEND_URL in non-local environments.
backend.url=${BACKEND_URL}

# -------------------------------------------------
# JWT Settings
# -------------------------------------------------
app.security.jwt.secret=${APP_JWT_SECRET:ZmFrZV9kZWFkYmVlZl9mYWtlX3NlY3JldF9kdW1teV9nZW5lcmF0ZWQ=}
app.security.jwt.access-expiration-ms=${APP_JWT_ACCESS_EXP_MS:900000}
app.security.jwt.refresh-expiration-ms=${APP_JWT_REFRESH_EXP_MS:1209600000}

# -------------------------------------------------
# Mail Settings (Gmail SMTP)
# -------------------------------------------------
spring.mail.host=${SMTP_HOST:smtp.gmail.com}
spring.mail.port=${SMTP_PORT:465}
spring.mail.username=${EMAIL_ADDRESS:mosesmanek7@gmail.com}
spring.mail.password=${EMAIL_PASSWORD:juntfklhojgicelx}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=${SMTP_SECURE:true}
# Enable STARTTLS (use with port 587)
spring.mail.properties.mail.smtp.starttls.enable=${SMTP_STARTTLS:false}
spring.mail.properties.mail.smtp.starttls.required=${SMTP_STARTTLS_REQUIRED:false}
# Choose protocol: smtp (STARTTLS or plain) or smtps (implicit SSL). Spring uses properties above, but we keep this for clarity
spring.mail.protocol=${SMTP_PROTOCOL:smtp}
# Timeouts
spring.mail.properties.mail.smtp.connectiontimeout=${SMTP_TIMEOUT_MS:5000}
spring.mail.properties.mail.smtp.timeout=${SMTP_TIMEOUT_MS:5000}
spring.mail.properties.mail.smtp.writetimeout=${SMTP_TIMEOUT_MS:5000}
spring.mail.default-encoding=UTF-8
app.mail.from.name=${EMAIL_FROM_NAME:mosesmanek7@gmail.com}
app.mail.enabled=${EMAIL_ENABLED:true}

# -------------------------------------------------
# Branding (MoChat)
# -------------------------------------------------
app.brand.logo-url=${APP_BRAND_LOGO_URL:https://res.cloudinary.com/dfiagonwj/image/upload/v1760800978/mochat_fhwfmy.png}
app.brand.site-url=${APP_BRAND_SITE_URL:https://moses.it.com}
app.brand.support-email=${APP_BRAND_SUPPORT_EMAIL:intambwefit@moses.it.com}
app.brand.address=${APP_BRAND_ADDRESS:Kigali, Rwanda}
app.brand.instagram=${APP_BRAND_INSTAGRAM:https://instagram.com/manekmaned12}
app.brand.linkedin=${APP_BRAND_LINKEDIN:https://www.linkedin.com/in/mosesmucyo}
# Colors
app.brand.color.bg=${APP_BRAND_COLOR_BG:#ffffff}
app.brand.color.text=${APP_BRAND_COLOR_TEXT:#0a0f0a}
app.brand.color.primary=${APP_BRAND_COLOR_PRIMARY:#064e3b}
app.brand.color.accent=${APP_BRAND_COLOR_ACCENT:#ef4444}
